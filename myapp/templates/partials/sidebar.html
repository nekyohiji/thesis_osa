{% load static %}
{% load role_extras %}
<div class="sidebar" id="sidebar">
  <div><br>
    <div class="logo text-center">
      <img src="{% static 'myapp/images/logo.png' %}" alt="TUP Logo" class="img-fluid mb-2 logo-img">
      <div><span><h5><b>TUPC OSA</b></h5></span></div>

      {% with role=request.session.role|default_if_none:""|lower %}
        {% with role=request.session.role %}
          <h6>Welcome {{ role|role_label }}!</h6>
        {% endwith %}
        <hr>

        <ul class="nav flex-column">
          {# =============== ADMIN: all pages =============== #}
          {% if role == 'admin' %}
            <li><a href="{% url 'admin_dashboard' %}" class="nav-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>

            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('violationMenu')">
                <span><i class="fas fa-exclamation-triangle"></i> Violation</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-violationMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start" id="violationMenu">
                <a class="nav-link" href="{% url 'admin_violation' %}"><i class="fas fa-window-maximize"></i> Violation Record</a>
                <a class="nav-link" a href="https://docs.google.com/spreadsheets/d/1P1C6cWrPNtBScadnVMgmmpGzmeirz4SW/edit?usp=sharing"><i class="fas fa-archive"></i> Old Violation Record</a>
                <a class="nav-link" href="{% url 'admin_community_service' %}"><i class="fas fa-people-group"></i> Community Service</a>
              </div>
            </li>

            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('documentsMenu')">
                <span><i class="fas fa-file-alt"></i> Documents</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-documentsMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start" id="documentsMenu">
                <a class="nav-link" href="{% url 'admin_goodmoral' %}"><i class="fas fa-shield-alt"></i> Good Moral</a>
                <a class="nav-link" href="{% url 'admin_ackreq' %}"><i class="fas fa-file-download"></i> Acknowledgement Receipt</a>
                <a class="nav-link" href="{% url 'admin_clearance' %}"><i class="fas fa-certificate"></i> Clearance</a>
              </div>
            </li>

            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('postingsMenu')">
                <span><i class="fas fa-bullhorn"></i> Postings</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-postingsMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start" id="postingsMenu">
                <a class="nav-link" href="{% url 'admin_scholarships' %}"><i class="fas fa-award"></i> Scholarships</a>
                <a class="nav-link" href="{% url 'admin_lostandfound' %}"><i class="fas fa-search"></i> Lost and Found</a>
                <a class="nav-link" href="{% url 'admin_ACSO' %}"><i class="fas fa-building"></i> ACSO<br>Accreditation</a>
                <a class="nav-link" href="{% url 'admin_assistantship' %}"><i class="fas fa-briefcase"></i> Student<br>Assistantship</a>
              </div>
            </li>

            <li><a class="nav-link" href="{% url 'admin_student' %}"><i class="fas fa-folder-open"></i> Record</a></li>
            <li><a href="{% url 'admin_report' %}" class="nav-link"><i class="fas fa-chart-line"></i> Report</a></li>
            <li><a href="{% url 'admin_accounts' %}" class="nav-link"><i class="fas fa-user-cog"></i> Manage Accounts</a></li>
            <li><a href="{% url 'admin_election' %}" class="nav-link"><i class="fas fa-user-cog"></i> Elections</a></li>
          {% endif %}

          {# =============== STAFF (no Report/Accounts) =============== #}
          {% if role == 'staff' %}
            <li><a href="{% url 'admin_dashboard' %}" class="nav-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>

            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('violationMenu')">
                <span><i class="fas fa-exclamation-triangle"></i> Violation</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-violationMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start" id="violationMenu">
                <a class="nav-link" href="{% url 'admin_violation' %}"><i class="fas fa-window-maximize"></i> Violation Record</a>
                <a class="nav-link" a href="https://docs.google.com/spreadsheets/d/1P1C6cWrPNtBScadnVMgmmpGzmeirz4SW/edit?usp=sharing"><i class="fas fa-archive"></i> Old Violation Record</a>
                <a class="nav-link" href="{% url 'admin_community_service' %}"><i class="fas fa-people-group"></i> Community Service</a>
              </div>
            </li>

            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('documentsMenu')">
                <span><i class="fas fa-file-alt"></i> Documents</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-documentsMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start" id="documentsMenu">
                <a class="nav-link" href="{% url 'admin_goodmoral' %}"><i class="fas fa-shield-alt"></i> Good Moral</a>
                <a class="nav-link" href="{% url 'admin_ackreq' %}"><i class="fas fa-file-download"></i> Acknowledgement Receipt</a>
                <a class="nav-link" href="{% url 'admin_clearance' %}"><i class="fas fa-certificate"></i> Clearance</a>
              </div>
            </li>

            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('postingsMenu')">
                <span><i class="fas fa-bullhorn"></i> Postings</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-postingsMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start" id="postingsMenu">
                <a class="nav-link" href="{% url 'admin_scholarships' %}"><i class="fas fa-award"></i> Scholarships</a>
                <a class="nav-link" href="{% url 'admin_lostandfound' %}"><i class="fas fa-search"></i> Lost and Found</a>
                <a class="nav-link" href="{% url 'admin_ACSO' %}"><i class="fas fa-building"></i> ACSO<br>Accreditation</a>
                <a class="nav-link" href="{% url 'admin_assistantship' %}"><i class="fas fa-briefcase"></i> Student<br>Assistantship</a>
              </div>
            </li>

            <li><a class="nav-link" href="{% url 'admin_student' %}"><i class="fas fa-folder-open"></i> Record</a></li>
          {% endif %}

          {# =============== STUDENT ASSISTANT =============== #}
          {% if role == 'studasst' %}
            <li><a href="{% url 'admin_dashboard' %}" class="nav-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('documentsMenu')">
                <span><i class="fas fa-file-alt"></i> Documents</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-documentsMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start show" id="documentsMenu">
                <a class="nav-link" href="{% url 'admin_goodmoral' %}"><i class="fas fa-shield-alt"></i> Good Moral</a>
                <a class="nav-link" href="{% url 'admin_ackreq' %}"><i class="fas fa-file-download"></i> Acknowledgement Receipt</a>
                <a class="nav-link" href="{% url 'admin_clearance' %}"><i class="fas fa-certificate"></i> Clearance</a>
                <a class="nav-link" href="{% url 'admin_lostandfound' %}"><i class="fas fa-search"></i> Lost and Found</a>
              </div>
            </li>
          {% endif %}

          {# =============== SCHOLARSHIP =============== #}
          {% if role == 'scholarship' %}
            <li>
              <a class="nav-link d-flex justify-content-between align-items-center" href="javascript:void(0)" onclick="handleDropdown('postingsMenu')">
                <span><i class="fas fa-bullhorn"></i> Postings</span>
                <i class="fas fa-caret-down dropdown-icon" id="icon-postingsMenu"></i>
              </a>
              <div class="collapse submenu ps-3 border-start show" id="postingsMenu">
                <a class="nav-link active" href="{% url 'admin_scholarships' %}"><i class="fas fa-award"></i> Scholarships</a>
              </div>
            </li>
          {% endif %}
        </ul>
      {% endwith %}
    </div>

    <div class="logout">
      <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#logoutModal">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </div>
  </div>
</div>
